<!doctype html> <html class="no-js" lang="en"> <head> <meta charset="utf-8" /> <meta name="google-site-verification" content="hx4CI-AKLcJlsw_QRyv43VnQec61JqgxXVJk60uBDEY" /> <meta name="viewport" content="width=device-width, initial-scale=1.0" /> <title>Climate Science and the Command Line</title> <link rel="stylesheet" href="https://datacarpentry.org/assets/css/styles_feeling_responsive.css"> <script src="https://datacarpentry.org/assets/js/modernizr.min.js"></script> <script> WebFontConfig = { google: { families: [ 'Lato:400,700,400italic:latin', 'Volkhov::latin' ] } }; (function() { var wf = document.createElement('script'); wf.src = ('https:' == document.location.protocol ? 'https' : 'http') + '://ajax.googleapis.com/ajax/libs/webfont/1.5.6/webfont.js'; wf.type = 'text/javascript'; wf.async = 'true'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(wf, s); })(); </script> <noscript> <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic%7cVolkhov' rel='stylesheet' type='text/css'> </noscript> <meta name="twitter:card" content="summary"> <meta name="twitter:url" content="https://datacarpentry.org/blog/2016/12/climate-science-and-the-command-line"> <meta name="twitter:title" content="Climate Science and the Command Line"> <meta name="twitter:site" content="@datacarpentry"> <meta name="twitter:domain" content=""> <meta name="twitter:description" content=" "> <meta name="twitter:image" content="https://raw.githubusercontent.com/datacarpentry/logos/master/DC_twitter_logo_small.png?000"> <meta name="google-site-verification" content="Vk0IOJ2jwG_qEoG7fuEXYqv0m2rLa8P778Fi_GrsgEQ" /> <meta name="msvalidate.01" content="0FB4C028ABCF07C908C54386ABD2D97F" /> <meta name="description" content=""/> <link rel="author" href="https://plus.google.com/u/0/118311555303973066167"/> <link rel="icon" sizes="32x32" href="https://datacarpentry.org/assets/img/favicon-32x32.png"> <link rel="icon" sizes="192x192" href="https://datacarpentry.org/assets/img/touch-icon-192x192.png"> <link rel="apple-touch-icon-precomposed" sizes="180x180" href="https://datacarpentry.org/assets/img/apple-touch-icon-180x180-precomposed.png"> <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://datacarpentry.org/assets/img/apple-touch-icon-152x152-precomposed.png"> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://datacarpentry.org/assets/img/apple-touch-icon-144x144-precomposed.png"> <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://datacarpentry.org/assets/img/apple-touch-icon-120x120-precomposed.png"> <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://datacarpentry.org/assets/img/apple-touch-icon-114x114-precomposed.png"> <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://datacarpentry.org/assets/img/apple-touch-icon-76x76-precomposed.png"> <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://datacarpentry.org/assets/img/apple-touch-icon-72x72-precomposed.png"> <link rel="apple-touch-icon-precomposed" href="https://datacarpentry.org/assets/img/apple-touch-icon-precomposed.png"> <meta name="msapplication-TileImage" content="https://datacarpentry.org/assets/img/msapplication_tileimage.png"/> <meta name="msapplication-TileColor" content="#fabb00"> <!-- Facebook Optimization --> <meta property="og:locale" content="en_EN" /> <meta property="og:type" content="website" /> <meta property="og:title" content="Climate Science and the Command Line" /> <meta property="og:description" content="Data Carpentry is a lesson program of The Carpentries that develops and provides data skills training to researchers."/> <meta property="og:url" content="https://datacarpentry.org/blog/2016/12/climate-science-and-the-command-line" /> <meta property="og:site_name" content="Data Carpentry" /> <!-- Search Engine Optimization --> <link type="text/plain" rel="author" href="https://datacarpentry.org/humans.txt" /> </head> <body id="top-of-page" class=""> <div id="navigation" class="sticky"> <nav class="top-bar" data-topbar> <ul class="title-area"> <li class="name"> <h1 class="show-for-small-only"><a href="https://datacarpentry.org" class="icon-tree"> Data Carpentry</a></h1> </li> <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone --> <li class="toggle-topbar menu-icon"><a href="#"><span>Navigation</span></a></li> </ul> <section class="top-bar-section"> <ul class="right"> <li class="divider"></li> <li><a href="https://carpentries.org/supporters/" target="_blank">Sponsors</a></li> <li class="divider"></li> <li><a href="https://carpentries.org/contact/" target="_blank">Contact</a></li> <li class="divider"></li> <li><a href="https://datacarpentry.org/search/">Search</a></li> </ul> <ul class="left"> <li><a href="https://datacarpentry.org/">Home</a></li> <li class="divider"></li> <li class="has-dropdown"> <a href="https://datacarpentry.org/about/">About</a> <ul class="dropdown"> <li><a href="https://datacarpentry.org/mission/">Mission & Vision</a></li> <li><a href="https://carpentries.org/citations/" target="_blank">Media</a></li> <li><a href="https://carpentries.org/team/" target="_blank">Our Team</a></li> <li><a href="https://docs.carpentries.org/topic_folders/policies/code-of-conduct.html" target="_blank">Code of Conduct</a></li> <li><a href="https://carpentries.org/governance/" target="_blank">Governance</a></li> <li><a href="https://datacarpentry.org/assessment/">Assessment</a></li> </ul> </li> <li class="divider"></li> <li class="has-dropdown"> <a href="https://datacarpentry.org/workshops/">Workshops</a> <ul class="dropdown"> <li><a href="https://datacarpentry.org/workshops/">About our Workshops</a></li> <li><a href="https://datacarpentry.org/workshops-host/">Request a Workshop</a></li> <li><a href="https://datacarpentry.org/workshops-attend/">Attend a Workshop</a></li> <li><a href="https://datacarpentry.org/workshops-upcoming">Upcoming Workshops</a></li> <li><a href="https://datacarpentry.org/workshops-past">Past Workshops</a></li> </ul> </li> <li class="divider"></li> <li class="has-dropdown"> <a href="https://carpentries.org/join/" target="_blank">Get Involved</a> <ul class="dropdown"> <li><a href="https://carpentries.org/membership/" target="_blank">Become a Member Organization</a></li> <li><a href="https://datacarpentry.org/involved-instructor/">Become an Instructor</a></li> <li><a href="https://carpentries.org/community/" target="_blank">Join our Community</a></li> <li><a href="https://carpentries.org/newsletter/" target="_blank">Newsletter</a></li> <li><a href="https://datacarpentry.org/involved-lessons/">Help Develop Lessons</a></li> <li><a href="https://carpentries.org/jobs/" target="_blank">Jobs</a></li> <li><a href="https://carpentries.org/donate/" target="_blank">Donate</a></li> </ul> </li> <li class="divider"></li> <li class="has-dropdown"> <a href="https://datacarpentry.org/lessons/">Lessons</a> <ul class="dropdown"> <li><a href="https://datacarpentry.org/lessons/#ecology-workshop">Ecology</a></li> <li><a href="https://datacarpentry.org/lessons/#genomics-workshop">Genomics</a></li> <li><a href="https://datacarpentry.org/lessons/#social-science-curriculum">Social Sciences</a></li> <li><a href="https://datacarpentry.org/lessons/#geospatial-curriculum">Geospatial</a></li> <li><a href="https://datacarpentry.org/lessons/#materials-in-early-development">In Development</a></li> <li><a href="https://datacarpentry.org/lessons/#biology-semester-long-course">Semester Materials</a></li> <li><a href="https://datacarpentry.org/curriculum-advisors/">Curriculum Advisory Committeee</a></li> </ul> </li> <li class="divider"></li> <li class="has-dropdown"> <a href="https://datacarpentry.org/blog/">Blog</a> <ul class="dropdown"> <li><a href="https://datacarpentry.org/blog/">Blog</a></li> </ul> </li> <li class="divider"></li> <li class="has-dropdown"> <a href="https://datacarpentry.org/for-instructors/">For instructors</a> <ul class="dropdown"> <li><a href="https://datacarpentry.org/checkout/">Instructor training checkout</a></li> <li><a href="https://datacarpentry.org/checklists/">Workshop Checklists</a></li> <li><a href="https://datacarpentry.org/self-organized-workshops/">Self-Organised Workshops</a></li> <li><a href="https://datacarpentry.org/mentoring/">Mentoring Opportunities</a></li> </ul> </li> <li class="divider"></li> </ul> </section> </nav> </div><!-- /#navigation --> <div id="masthead"> <div class="row"> <div class="small-12 columns" align="center"> <a id="logo" href="https://datacarpentry.org" title="Data Carpentry – Making data science more efficient"> <img src="https://datacarpentry.org/assets/img/DC_logo_vision.png" alt="Data Carpentry – Making data science more efficient"> </a> </div><!-- /.small-12.columns --> </div><!-- /.row --> </div><!-- /#masthead --> <div class="row t30"> <div class="small-12 columns"> <article itemscope itemtype="http://schema.org/Article"> <header> <span itemprop="name"> <p class="subheadline">Data in the Field</p> <h1>Climate Science and the Command Line</h1> </span> </header> <span itemprop="meta"> <div id="page-meta" class="t30"> <p> Authors: <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name" class="pr20 icon-edit"><a href="/posts-by-authors/#blog-author-damien-irving">Damien Irving</a></span></span> <time class="icon-calendar pr20" datetime="2016-12-12" itemprop="datePublished"> 2016-12-12</time> <span class="icon-archive pr20">BLOG</span> <br /> <span class="pr20"><span class="icon-price-tag pr10"> <a href="/posts-by-tags/#blog-tag-skillshare">Skillshare</a></span> </span> </p> <!-- <div id="post-nav" class="row"> <div class="small-5 columns"> <a class="button small radius prev" href="/blog/2016/12/discovering">&laquo; Discovering the data science community, becoming part of it, and expanding it</a> </div> <div class="small-2 columns text-center"> <a class="radius button small" href="/blog/archive/" title="Blog Archive">Archive</a> </div> <div class="small-5 columns text-right"> <a class="button small radius next" href="/blog/2016/12/conversations">Feedback on Communications &raquo;</a> </div> --> </div> </div> </span> <p class="teaser" itemprop="description"> </p> <span itemprop="articleSection"> <p>Climate science has a pretty high profile these days, particularly in my personal area of research, which involves quantifying the role humans have played in climate change (otherwise known as “climate attribution”). Behind the glamorous media coverage and international meetings, however, research in this field centers around the most unglamorous tool of all: the command line. From data management and workflow coordination to remotely accessing supercomputing facilities and backing up code, the command line is the most critical part of my toolbox. Let me explain…</p> <p><strong>Data management</strong><br /> Over 30 research groups from around the world submit data to the international climate modelling projects that form the basis of reports such as those produced by the Intergovernmental Panel on Climate Change (IPCC). Couple that with the multiple experiments that each of these groups run with their models and the wide variety of variables they provide data for, and climate scientists quickly find themselves dealing with hundreds (if not thousands) of data files. Managing these files with Finder or Windows Explorer would clearly be a nightmare, but at the command line it’s a breeze. By using a strict data reference syntax for naming my files (see my blog post on the topic <a href="https://drclimate.wordpress.com/2015/09/04/managing-your-data/">here</a>), I can quickly and easily locate the data I need using the <code class="language-plaintext highlighter-rouge">find</code> command and/or a combination of the <code class="language-plaintext highlighter-rouge">ls</code> command and wildcards.</p> <p><strong>Workflow coordination</strong><br /> Climate models break the world up into a series of grid boxes, which means the data that these models provide (e.g. temperature, humidity, atmospheric pressure, ocean salinity) are typically multi-dimensional arrays indexed by time, latitude, longitude and elevation (or depth). The Earth is a big place and climate models are using increasingly fine resolution grids, so these arrays can be very large. To keep the required time and/or memory required to process these arrays to a manageable level, I usually split my workflows into a number of data processing steps, with the output from each step saved as a series of intermediate files. Keeping track of all the data processing steps can be tricky, which is where the command line comes in. By making each step executable at the command line (e.g. all my Python scripts can be executed at the command line), I can chain them all together in a shell script. If one or more of the steps takes a particularly long time to run (i.e. I’d rather not run it unless absolutely necessary), I use a Makefile to manage the process instead. Whenever I make an update to my code or data, Make is able to figure out which intermediate files need to be regenerated and which don’t, allowing me to avoid re-running time consuming parts of the workflow that haven’t changed.</p> <p>The other nice thing about making my data processing steps executable at the command line is that I can use any tools or languages I want. Most of the big players in weather and climate science software development (e.g. the UK Met Office) have converged on Python as their language of choice, but there are (for example) some old but still excellent command line tools out there for dealing with netCDF files (the default file format in weather and climate science). The command line is the place where all my tools can be linked together.</p> <p><strong>Remote access</strong> <br /> Another consequence of the enormous size of international climate model datasets is that you can’t just store the data on your own computer. Instead, the data are stored and managed by a network of supercomputing facilities around the world. It would be impractical to shuffle small subsets of the data back and forth between the supercomputing facility and my workplace, so instead the supercomputer facilities (like the National Computational Infrastructure for me in Australia) encourage you to do your data analysis on their computers, which have direct access to the data. The way to access these remote computers is via the command line.</p> <p><strong>Version control</strong><br /> Last but not least, I use the command line when backing up my code. There are graphical user interfaces available for Git, but setting these up seems more trouble than it’s worth. Most days I only use four commands (<code class="language-plaintext highlighter-rouge">git add</code>, <code class="language-plaintext highlighter-rouge">git commit</code>, <code class="language-plaintext highlighter-rouge">git push</code>, <code class="language-plaintext highlighter-rouge">git pull</code>), so it’s easier just to type those into the command line.</p> <p>I <a href="https://drclimate.wordpress.com/">blog</a> and <a href="https://twitter.com/DrClimate">tweet</a> about all aspects of computational best practice in the weather and climate sciences, so please subscribe / follow if that sounds relevant to your work!</p> </span> <a class="radius button small" href="/blog/2016/12/discovering" title="">&laquo; Previous</a> <a class="radius button small" href="/blog/2016/12/conversations" title="Next Posts">Next &raquo;</a> <h3 id="comments" class="t60">Dialogue &amp; Discussion</h3> <div id="disqus_thread"></div> <script type="text/javascript"> /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */ var disqus_shortname = 'datacarpentry'; var disqus_identifier = '/blog/2016/12/climate-science-and-the-command-line'; /* * * DON'T EDIT BELOW THIS LINE * * */ (function() { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); })(); </script> <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> </article> </div> </div> <div id="up-to-top" class="row"> <div class="small-12 columns" style="text-align: right;"> <a class="iconfont" href="#top-of-page">&#xf108;</a> </div><!-- /.small-12.columns --> </div><!-- /.row --> <footer id="footer-content" class="bg-grau"> <div id="footer"> <div class="row"> <div class="medium-6 large-5 columns"> <h5 class="shadow-black">About This Site</h5> <p class="shadow-black"> Data Carpentry is a lesson program of The Carpentries that develops and provides data skills training to researchers. <a href="https://datacarpentry.org/about/">More ›</a> </p> </div><!-- /.large-6.columns --> <div class="small-6 medium-3 large-3 large-offset-1 columns"> <h5 class="shadow-black">Services</h5> <ul class="no-bullet shadow-black"> <li > <a href="https://datacarpentry.org" title=""></a> </li> <li class="services-contact" > <a href="https://datacarpentry.org/contact/" title="Contact">Contact</a> </li> <li class="rss-link" > <a href="https://datacarpentry.org/feed.xml" title="Subscribe to RSS">RSS</a> </li> <li class="sitemap-link" > <a href="https://datacarpentry.org/sitemap.xml" title="Sitemap for Google Webmastertools">sitemap.xml</a> </li> </ul> </div><!-- /.large-4.columns --> <!-- <div class="small-6 medium-3 large-3 columns"> <h5 class="shadow-black">Dankeschön</h5> <ul class="no-bullet shadow-black"> <li > <a href="https://datacarpentry.org" title=""></a> </li> <li class="network-entypo" > <a href="http://entypo.com/" target="_blank" title="Icons by Daniel Bruce">Icons by Daniel Bruce</a> </li> <li class="services-newsletter" > <a href="http://foundation.zurb.com/" target="_blank" title="Built on Foundation">Built on Foundation</a> </li> <li class="rss-link" > <a href="http://unsplash.com/" target="_blank" title="Images by Unsplash">Images by Unsplash</a> </li> <li class="sitemap-link" > <a href="http://srobbin.com/jquery-plugins/backstretch/" target="_blank" title="Using Backstretch by Scott Robbin">Using Backstretch by Scott Robbin</a> </li> </ul> </div><!-- /.large-3.columns --> </div><!-- /.row --> </div><!-- /#footer --> <div id="subfooter"> <nav class="row"> <section id="subfooter-left" class="b30 small-12 medium-6 columns"> <ul class="inline-list"> <li>Created with &hearts; by <a style="display:inline;" href="http://phlow.de/">Phlow</a> with <a style="display:inline;" href="http://jekyllrb.com/" target="_blank">Jekyll</a> using <a style="display:inline;" href="http://phlow.github.io/feeling-responsive/">Feeling Responsive</a> </li> </ul> </section> <section id="subfooter-right" class="small-12 medium-6 columns social-icons"> <ul class="inline-list"> <li><a href="http://twitter.com/datacarpentry" target="_blank" class="icon-twitter" title="Data Carpentry on Twitter"></a></li> <li><a href="http://github.com/datacarpentry" target="_blank" class="icon-github" title="Data Carpentry on GitHub"></a></li> </ul> </section> </nav> </div><!-- /#subfooter --> </footer> <script src="https://datacarpentry.org/assets/js/javascript.min.js"></script> <script> $("#masthead").backstretch("https://datacarpentry.org/images/light-blue-wood-texture.jpg", {fade: 700}); $("#masthead-with-text").backstretch("https://datacarpentry.org/images/light-blue-wood-texture.jpg", {fade: 700}); </script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-68320080-1', 'auto'); ga('set', 'anonymizeIp', true); ga('send', 'pageview'); </script> </body> </html>
